enum Availability {
  AMAZON
  THIRDPARTY
  UNAVAILABLE
  NOTFOUND
}

type User {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  name: String!
  email: String! @unique
  password: String!
  domains: [Domain!]!
}

type Domain {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  hostname: String! @unique
  pages: [Page!]!
  users: [User!]!
  preferences: [UserDomainPreferences!]!
}

type UserDomainPreferences {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  domain: Domain!
  user: User!
  sitemapUrls: [String]
  contentSelectors: [String]
}

type Page {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  url: String! @unique
  pageTitle: String
  wordCount: Int
  links: [Link!]!
}

type Link {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  page: Page!
  url: String!
  affiliateTagged: Boolean
  affiliateTagName: String
  product: Product
  anchorText: String
}

type Product {
  id: ID! @id @unique
  updatedAt: DateTime!
  createdAt: DateTime!
  name: String
  asin: String! @unique
  links: [Link]
  availability: Availability
}
